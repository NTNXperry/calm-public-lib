{
    "tasks":[
        {
            "publish_all_ports":null,
            "tty":null,
            "uid":"574335e87d008315b6006765",
            "links":[

            ],
            "domainname":null,
            "image":"nginx:latest",
            "labels":[

            ],
            "creation_time":1452762435,
            "critical":true,
            "credential_id":null,
            "devices":[

            ],
            "read_only":null,
            "classification":"provision_docker",
            "user":null,
            "hostname":null,
            "working_dir":null,
            "version":252,
            "entrypoint":null,
            "env":[

            ],
            "volumes_from":[

            ],
            "net":null,
            "port_bindings":[
                {
                    "host_port":"80",
                    "container_port":"80"
                }
            ],
            "security_opt":[

            ],
            "extra_hosts":[

            ],
            "stdin_open":null,
            "log_driver":null,
            "cpuset":null,
            "expose":[
                {
                    "port":"80"
                },
                {
                    "port":"4332"
                }
            ],
            "container_id":null,
            "modification_time":1464022553,
            "host":null,
            "external_links":[

            ],
            "detach":null,
            "restart":null,
            "dns":[

            ],
            "name":"Docker Run",
            "cap_add":[

            ],
            "dns_search":[

            ],
            "privileged":null,
            "binds":[

            ],
            "editables":[

            ],
            "command":null,
            "host_name":"tcp:\/\/@@{docker_public}@@:@@{docker_port}@@",
            "volumes":[

            ],
            "mem_limit":null,
            "cap_drop":[

            ],
            "cpu_shares":null
        },
        {
            "uid":"574335e87d008315b6006766",
            "classification":"provision_aws_ec2",
            "creation_time":1453961592,
            "user_data":null,
            "credential_id":null,
            "keypair":"",
            "security_groups":[
                {
                    "vpc_id":"",
                    "uuid":"",
                    "uid":"",
                    "classification":null,
                    "name":""
                }
            ],
            "subnet":"",
            "network":"",
            "zone":"",
            "ami_name":"",
            "storage":{
                "Root":{
                    "Device":"\/dev\/sda1",
                    "delete_on_termination":true,
                    "volume_type":"standard",
                    "Size":8
                },
                "EBS":[

                ]
            },
            "variable_cost":0.0,
            "version":60,
            "editables":[

            ],
            "iam_role":"",
            "ami":"",
            "tags":{
                "Owner":""
            },
            "fixed_cost":null,
            "modification_time":1464022553,
            "public_ip":true,
            "shutdown_behavior":"terminate",
            "name":"Provision AWS EC2",
            "instance_name":"@@{appname}@@-dockerhost",
            "instance_type":"m3.medium",
            "critical":true
        },
        {
            "uid":"574335e87d008315b6006767",
            "classification":"runshell",
            "script":"#!\/bin\/bash\nset -e\n\nsudo apt-get update && sudo apt-get -y install docker.io\n\necho \"DOCKER_OPTS=\\\"-H tcp:\/\/0.0.0.0:@@{docker_port}@@ -H unix:\/\/\/var\/run\/docker.sock -d\\\"\" | sudo tee \/etc\/default\/docker\nsudo gpasswd -a $USER docker\nsudo service docker restart\nsudo hostname dockerhost\nsudo ifdown eth0 && sudo ifup eth0\necho hostname=$(hostname)",
            "creation_time":1452761630,
            "credential_id":null,
            "modification_time":1464022553,
            "version":60,
            "critical":false,
            "editables":[

            ],
            "name":"Docker Install"
        },
        {
            "uid":"574335e87d008315b6006768",
            "classification":"runshell",
            "script":"# concurrent docker pulls fail, so we pull ahead\ndocker pull nginx:latest",
            "creation_time":1452761630,
            "credential_id":null,
            "modification_time":1464022553,
            "version":60,
            "critical":false,
            "editables":[

            ],
            "name":"Pull Images"
        }
    ],
    "uid":"574335e87d008315b600675e",
    "classification":"blueprint",
    "autoscale_config":{
        "post_flow":null,
        "cool_down_period":"1800",
        "uid":"5735fcf0a77b0906b34dd322",
        "classification":null,
        "alert_count":"1",
        "max_count":"1",
        "pre_flow":null,
        "min_count":"1",
        "listen_for":"external",
        "scale_by":"1",
        "alert_window":"1800"
    },
    "cost":0.0,
    "strategy_enabled":false,
    "environment":"default",
    "provider":null,
    "config":{
        "setup":[

        ],
        "uid":"5629d94bdd1a6c6d12340236",
        "classification":null,
        "deploy":[

        ]
    },
    "calm-version":"1.7.2",
    "description":"A tiered web application: a load balancer with a scalable web tier and database\/cache back end hybrid deployed as containers and VMs",
    "parent":null,
    "flows":[
        {
            "tasks":[

            ],
            "uid":"cid:00000003",
            "classification":null,
            "eta":-1,
            "creation_time":1452273935,
            "edges":[

            ],
            "has_critical_tasks":false,
            "modification_time":1464022553,
            "version":0,
            "flow_type":null,
            "critical":false,
            "name":"TailLogs"
        },
        {
            "tasks":[

            ],
            "uid":"cid:00000004",
            "classification":null,
            "eta":-1,
            "creation_time":1442404477,
            "edges":[

            ],
            "has_critical_tasks":false,
            "modification_time":1464022553,
            "version":3,
            "flow_type":null,
            "critical":true,
            "name":"ScaleUp"
        },
        {
            "tasks":[

            ],
            "uid":"cid:00000005",
            "classification":null,
            "eta":-1,
            "creation_time":1452222161,
            "edges":[

            ],
            "has_critical_tasks":false,
            "modification_time":1464022553,
            "version":0,
            "flow_type":null,
            "critical":true,
            "name":"UpdateApp"
        },
        {
            "tasks":[

            ],
            "uid":"cid:00000006",
            "classification":null,
            "eta":-1,
            "creation_time":1444734646,
            "edges":[

            ],
            "has_critical_tasks":false,
            "modification_time":1464022553,
            "version":2,
            "flow_type":null,
            "critical":false,
            "name":"SimulateLoad"
        },
        {
            "tasks":[

            ],
            "uid":"cid:00000007",
            "classification":null,
            "eta":-1,
            "creation_time":1444208388,
            "edges":[

            ],
            "has_critical_tasks":false,
            "modification_time":1464022553,
            "version":3,
            "flow_type":null,
            "critical":true,
            "name":"ScaleDown"
        }
    ],
    "dependencies":[

    ],
    "credentials":[

    ],
    "bp_id":null,
    "properties":[
        {
            "uid":"568c252319105e06a4f195cd",
            "classification":null,
            "editable":true,
            "value":"Nginx_App",
            "key":"appname",
            "property_description":null,
            "property_type":"EXTERNAL",
            "setter":null
        }
    ],
    "autoscale_enabled":false,
    "name":"Nginx for Open Source",
    "setup_ids":{

    },
    "h":0.0,
    "resiliency_config":{
        "post_flow":null,
        "cool_down_period":"1800",
        "alert_window":"1800",
        "classification":null,
        "alert_count":"1",
        "pre_flow":null,
        "listen_for":"internal",
        "uid":"5735fcf0a77b0906b34dd324"
    },
    "resiliency_enabled":false,
    "architecture":[
        {
            "tasks":[

            ],
            "uid":"cid:00000001",
            "classification":"compute",
            "address":"@@{docker_container_ip}@@",
            "credential_id":null,
            "autoscale_config":{
                "post_flow":null,
                "cool_down_period":"1800",
                "uid":"5735fcf0a77b0906b34dd367",
                "classification":null,
                "alert_count":"1",
                "max_count":"1",
                "pre_flow":null,
                "min_count":"1",
                "listen_for":"external",
                "scale_by":"1",
                "alert_window":"1800"
            },
            "cost":3.0,
            "strategy_enabled":false,
            "provider":"574335e87d008315b6006765",
            "service_type":"ssh",
            "config":{
                "setup":[

                ],
                "uid":"5629d94bdd1a6c6d12340252",
                "classification":null,
                "deploy":[

                ]
            },
            "parent":"574335e87d008315b600675e",
            "flows":[

            ],
            "dependencies":[
                {
                    "key":"docker_public",
                    "uid":"5697654319105e5675ad67fd",
                    "classification":null,
                    "setter":{
                        "source_id":"cid:00000002",
                        "prop_id":"5697621e19105e1b758da094",
                        "uid":"5697654319105e5675ad6855",
                        "classification":null
                    }
                },
                {
                    "key":"docker_private",
                    "uid":"5697654319105e5675ad67fe",
                    "classification":null,
                    "setter":{
                        "source_id":"cid:00000002",
                        "prop_id":"5697621e19105e1b758da095",
                        "uid":"5697654319105e5675ad6856",
                        "classification":null
                    }
                },
                {
                    "key":"docker_port",
                    "uid":"5697654319105e5675ad67ff",
                    "classification":null,
                    "setter":{
                        "source_id":"cid:00000002",
                        "prop_id":"5697621e19105e1b758da096",
                        "uid":"5697654319105e5675ad6857",
                        "classification":null
                    }
                }
            ],
            "service_port":22,
            "bp_id":"574335e87d008315b600675e",
            "properties":[
                {
                    "uid":"56900ae719105e22225fdc03",
                    "classification":null,
                    "editable":false,
                    "value":null,
                    "key":"nginx_container_ip",
                    "property_description":null,
                    "property_type":"EXTERNAL",
                    "setter":{
                        "source_id":"574335e87d008315b6006765",
                        "uid":"5697654319105e5675ad6858",
                        "classification":null,
                        "prop":"docker_container_ip"
                    }
                }
            ],
            "autoscale_enabled":false,
            "name":"NginxContainer",
            "h":0.0,
            "resiliency_config":{
                "post_flow":null,
                "cool_down_period":"1800",
                "alert_window":"1800",
                "classification":null,
                "alert_count":"1",
                "pre_flow":null,
                "listen_for":"internal",
                "uid":"5735fcf0a77b0906b34dd369"
            },
            "resiliency_enabled":false,
            "w":0.0,
            "strategy_config":{
                "post_flow":null,
                "rollback_pre_flow":null,
                "classification":null,
                "rolling_factor":"100",
                "initial_version":null,
                "approval_flag":false,
                "upgrade_flow":null,
                "rollback_flow":null,
                "pre_flow":null,
                "rollback_post_flow":null,
                "upgrade_type":"rolling_upgrade",
                "uid":"5735fcf0a77b0906b34dd36a",
                "users":[

                ],
                "teams":[

                ],
                "emails":[

                ],
                "initial_count":"1"
            },
            "y":323.7769622803,
            "x":68.3265457153,
            "os_type":"Linux"
        },
        {
            "tasks":[

            ],
            "uid":"cid:00000002",
            "classification":"compute",
            "address":"@@{public_ip_address}@@",
            "credential_id":null,
            "autoscale_config":{
                "post_flow":null,
                "cool_down_period":"1800",
                "uid":"5735fcf0a77b0906b34dd36f",
                "classification":null,
                "alert_count":"1",
                "max_count":"1",
                "pre_flow":null,
                "min_count":"1",
                "listen_for":"external",
                "scale_by":"1",
                "alert_window":"1800"
            },
            "cost":9.0,
            "strategy_enabled":false,
            "provider":"574335e87d008315b6006766",
            "service_type":"ssh",
            "config":{
                "setup":[

                ],
                "uid":"5697621e19105e1b758da0ea",
                "classification":null,
                "deploy":[
                    "574335e87d008315b6006767",
                    "574335e87d008315b6006768"
                ]
            },
            "parent":"574335e87d008315b600675e",
            "flows":[

            ],
            "dependencies":[

            ],
            "service_port":22,
            "bp_id":"574335e87d008315b600675e",
            "properties":[
                {
                    "uid":"5697621e19105e1b758da094",
                    "classification":null,
                    "editable":false,
                    "value":null,
                    "key":"docker_public",
                    "property_description":null,
                    "property_type":"EXTERNAL",
                    "setter":{
                        "source_id":"574335e87d008315b6006766",
                        "uid":"5697621e19105e1b758da0eb",
                        "classification":null,
                        "prop":"public_ip_address"
                    }
                },
                {
                    "uid":"5697621e19105e1b758da095",
                    "classification":null,
                    "editable":false,
                    "value":null,
                    "key":"docker_private",
                    "property_description":null,
                    "property_type":"EXTERNAL",
                    "setter":{
                        "source_id":"574335e87d008315b6006766",
                        "uid":"5697621e19105e1b758da0ec",
                        "classification":null,
                        "prop":"private_ip_address"
                    }
                },
                {
                    "uid":"5697621e19105e1b758da096",
                    "classification":null,
                    "editable":false,
                    "value":"4332",
                    "key":"docker_port",
                    "property_description":null,
                    "property_type":"EXTERNAL",
                    "setter":null
                }
            ],
            "autoscale_enabled":false,
            "name":"DockerHost",
            "h":0.0,
            "resiliency_config":{
                "post_flow":null,
                "cool_down_period":"1800",
                "alert_window":"1800",
                "classification":null,
                "alert_count":"1",
                "pre_flow":null,
                "listen_for":"internal",
                "uid":"5735fcf0a77b0906b34dd371"
            },
            "resiliency_enabled":false,
            "w":0.0,
            "strategy_config":{
                "post_flow":null,
                "rollback_pre_flow":null,
                "classification":null,
                "rolling_factor":"100",
                "initial_version":null,
                "approval_flag":false,
                "upgrade_flow":null,
                "rollback_flow":null,
                "pre_flow":null,
                "rollback_post_flow":null,
                "upgrade_type":"rolling_upgrade",
                "uid":"5735fcf0a77b0906b34dd372",
                "users":[

                ],
                "teams":[

                ],
                "emails":[

                ],
                "initial_count":"1"
            },
            "y":328.1007766724,
            "x":313.9635620117,
            "os_type":"Linux"
        }
    ],
    "w":0.0,
    "strategy_config":{
        "post_flow":null,
        "rollback_pre_flow":null,
        "classification":null,
        "rolling_factor":"100",
        "initial_version":null,
        "approval_flag":false,
        "upgrade_flow":null,
        "rollback_flow":null,
        "pre_flow":null,
        "rollback_post_flow":null,
        "upgrade_type":"rolling_upgrade",
        "uid":"5735fcf0a77b0906b34dd325",
        "users":[

        ],
        "teams":[

        ],
        "emails":[

        ],
        "initial_count":"1"
    },
    "y":0.0,
    "x":0.0
}